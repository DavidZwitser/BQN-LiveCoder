TextEditor â‡ {châ€¿skip_chars:
	# ch example: {cursorâ€¿enterâ€¿select â‡ '_'â€¿'â‹„'â€¿'_'}
	# skip_chars example: "._"âˆ¾@+(32âŠ¸+âˆ¾âŠ¢)65â†“â†•91

	# Type stuff
	Type â‡ {
		charğ•Štâ€¿c: âŸ¨ntâ† charâŠ¸âˆ¾âŒ¾(câŠ¸âŒ½) t â‹„ 1â€¿0 Move ntâ€¿c âŸ©
	}
	Remove â‡ {
		amountğ•Štâ€¿c: {0â‰¤c-amount ? âŸ¨amountâŠ¸â†“âŒ¾((c-amount)âŠ¸âŒ½) t â‹„ (-amount)â€¿0 Move tâ€¿câŸ© ; tâ€¿c }
	}

	Tab â‡ (@+9)âŠ¸Type
	Enter â‡ ch.enterâŠ¸Type

	AddLine â‡ { lineğ•Štâ€¿c:
		c â†© t XYCursorËœ endâ†0â€¿1 + 0â€¿1 Ã— CursorXY tâ€¿c
		âŸ¨ âŠ‘ tâ€¿c TypeÂ´ âŒ½âˆ¾âŸœch.enter line â‹„ end XYCursor tâŸ©
	}
	RemoveLine â‡ { ğ•Štâ€¿c:
		âŸ¨((((LineStart ğ•©)â†‘t) âˆ¾ (1+LineEnd ğ•©)â†“t)) â‹„ câŸ©
	}

	# Swap Lines and Chars
	SwapR â† {âŒ½âŒ¾(2âŠ¸â†‘ğ•¨âŠ¸â†“)ğ•©}
	SwapL â† {âŒ½âŒ¾(Â¯2âŠ¸â†‘(ğ•¨+1)âŠ¸â†‘)ğ•©}
	Swap â‡ {
		1â€¿0ğ•Štâ€¿c: {(c+1)<â‰ t ? âŸ¨c SwapR t â‹„ 1â€¿0 Move tâ€¿câŸ© ; tâ€¿c };
	   Â¯1â€¿0ğ•Štâ€¿c: {((c-1)â‰¥0)âˆ§(c)<â‰ t ? âŸ¨c SwapL t â‹„ Â¯1â€¿0 Move tâ€¿câŸ© ; tâ€¿c };
		0â€¿yğ•Štâ€¿c:
			cxâ€¿cy â† CursorXY tâ€¿c â‹„ lines â† ch.enter Split t
			{(â‰¥âŸœ0 âˆ§ <âŸœ(â‰ lines)) cy+y ? # Does the target line exist?
				new_t â† âˆ¾âˆ¾âŸœch.enterÂ¨ (yâ‰¡1)â—¶âŸ¨cyâŠ¸SwapL, cyâŠ¸SwapRâŸ© lines
				âŸ¨new_t â‹„ cxâ€¿(cy+y) XYCursor new_tâŸ©
			; tâ€¿c }
	}

	# Scope cursor to interesting places
	Scope â‡ { # Returns the distance to the target
		1ğ•Štâ€¿c: -âŸœc (0<â‰ )â—¶âŸ¨0,{c+1+âŠ‘ğ•©}âŸ© /Â¬ âˆŠâŸœskip_chars (c+1)â†“t ;
	   Â¯1ğ•Štâ€¿c: -âŸœc {(0<â‰ )â—¶âŸ¨0,{âŠ‘âŒ½ğ•©}âŸ© /Â¬ âˆŠâŸœskip_chars ğ•©â†‘t} c
	}

	# Move to one of the outer bounds of the text
	Bounds â‡ { # Returns the distance to the target
		1â€¿0ğ•Štâ€¿c: -âŸœc LineEnd ğ•©;
	   Â¯1â€¿0ğ•Štâ€¿c: -âŸœc LineStart ğ•©;
		0â€¿yğ•Štâ€¿c: -âŸœc yÃ—â‰ t
	}

	# Move the cursor normally over the screen
	Move â‡ {
		xâ€¿0ğ•Štâ€¿c: c (0âŠ¸âŒˆÂ·(â‰ t)âŠ¸âŒŠ+) x;
		0â€¿yğ•Štâ€¿c: t XYCursorËœ +âŸœ0â€¿y CursorXY tâ€¿c
	}

	# Some functions to get and calculate cursor stuff
	Split â‡ (âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢ # (from bqncrate) split string into substrings on a char
	CursorXY â‡ {ğ•Štâ€¿c:	# From long line space to splitted space
		trl_sum â† +Â´ trlâ†ch.enter=câ†‘t
		x â† {0â‰¢trl_sum ? -âŸœ1 â‰  {âŠ‘âŒ½/ğ•©}âŠ¸â†“ trl ; c }
		xâ€¿trl_sum
	}

	CleanPick â† (0âŠ¸âŒˆ âŒŠâŸœ(-âŸœ1â‰ ))âŠ‘âŠ¢
	XYCursor â‡ {xâ€¿yğ•Štext: # From splitted space to long line space
		âŠ‘/'â'=âˆ¾ 'â'âŒ¾(xâŠ¸CleanPick yâŠ¸CleanPick) âˆ¾âŸœch.enterÂ¨ ch.enter Split text
		# Hilarious approach I know. Scared sombody will use â• in their code
	}
	LineStart 	â† {ğ•Štâ€¿c: 0â‰¢+Â´trlâ†ch.enter=câ†‘t ? 1+âŠ‘âŒ½/trl ; 0} # index of start of current line
	LineEnd 	â† {ğ•Štâ€¿c: {0â‰¢+Â´entrs â† ((>âŸœ(c-1)â†•âˆ˜â‰ ) Ã— ch.enterâŠ¸=) t ? âŠ‘/entrs ; â‰ t}} 	# index of end of current line
	Line 		â‡ {ğ•Štâ€¿c: (LineEnd ntâ€¿0) â†‘ ntâ†(LineStart ğ•©) â†“ t } # chars in current line
	LineLength 	â† LineEnd - LineStart					   # length of current line
}
